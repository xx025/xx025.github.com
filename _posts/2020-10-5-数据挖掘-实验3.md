---
permalink: /sjwj_3/
excerpt_separator: <!--more-->
---
实验三 探索性数据分析方法与应用 
<!--more-->

【实验目的】  
1 了解频率和众数的含义与计算。  
2 掌握百分位数的计算方法。  
3 掌握常见集中趋势度量的方法与计算。  
4 掌握常见分散程度的度量方法与计算。  
5 熟悉常见数据分析图表的绘制方法。  
【实验类型】  
设计型  
【实验学时】  
2学时  
【实验环境】  

	Windows 7以上操作系统  
	Python3.0以上版本  
	Pycharm开发环境  
	Spyder开发环境  

【实验要求】  
一、频率和众数是简单描述数据分布状况的常见度量，请编写函数实现序列元素频率序列及其众数的计算，并自行构建数据验证方法。  
参考输出结果：  

``` python
def frequency(dic_, len_):
    """ 频率 """
    dic = {}
    for key, value in dic_.items():
        dic[key] = value * 1.0 / len_
    return dic

def Mode(dic_):
    """ 众数 """
    lis = []
    max_count = 0
    for key, value in dic_.items():
        if value > max_count:
            max_count = value  # 记录新的最大值
            lis.clear()  # 清空列表
        if value == max_count:
            lis.append(key)
    return lis

def count(lis):
    """ 统计数量 """
    dic = {}
    for i in lis:
        if i not in dic:
            dic[i] = lis.count(i)
    return dic

if __name__ == '__main__':
    lis = ['a', 'a', 'b', 'b', 'c', 'c', 'c', 'd', 'd', 'd', 'e', 'e', 'e']
    dic_1 = count(lis)
    dic_2 = frequency(dic_1, len(lis))
    Mode_ = Mode(dic_1)
    print("Count for distinct:\n{}".format(dic_1))
    print("Frequency by distinct:\n{}".format(dic_2))
    print("Mode:\n{}".format(Mode_))

```

二、百分位数也是简单描述数据分布特征的常用度量，请编写函数实现数据序列百分位数的计算，并计算iris数据集中四个属性的百分位数。  
参考输出结果：
```python

import numpy as np

def oppenfile():

    data = np.loadtxt('iris_proc.data', dtype=float,
                      delimiter=',')
    # 读取文件，格式见下文参考资料
    return data[:, 0:4]

def percentile_(data_):

    lis = list()
    for i in range(0, 11):
        lis.append([])  # 扩增数组
        lis[i].append(i)  # 添加分位数标记
        lis[i].extend(np.percentile(data_, i*10, axis=0))
        # 求列上的分位数，并追加进数组
    return np.array(lis)

if __name__ == "__main__":

    print(percentile_(oppenfile()))

""" 

用Python实现支持向量机并处理Iris数据集：
https://www.cnblogs.com/asagiyukina/p/10703533.html

对于vscode相对路径的问题可设置插件Runcode：勾上“File Directory As Cwd”
参考：https://www.cnblogs.com/xtgame/p/12950727.html

Numpy中文参考手册：https://www.numpy.org.cn/reference/

"""
```  

三、衡量数据序列集中程度的统计量通常由均值、中位数和截断均值，请编写函数分别实现均值、中位数和截断均值的计算，并分别针对iris数据集的四个属性进行计算。  
参考输出结果：  
```python

import numpy as np


def oppenfile():
    data = np.loadtxt('iris_proc.data', dtype=float,
                      delimiter=',')
    return data[..., 0:4]


def truncatedmean(arr):
    """ 怎么截断？？？？ """
    # arr2 = np.sort(arr, axis=0, kind='mergesort')
    # for i in range(0, len(arr[0])):
    #     arr_ = arr2[..., i]
    #     max = np.max(arr_, axis=0)
    #     arr_c = np.where(max == np.max(arr_))
    #     print(max, arr_c)
    return arr[0]


def fun(arr):
    x = np.empty([0, 4], dtype=float)
    x = np.append(x, [np.average(arr, axis=0)], axis=0)  # 均值
    x = np.append(x, [np.median(arr, axis=0)], axis=0)  # 中位数
    x = np.append(x, [truncatedmean(arr)], axis=0)  # 截断均值
    return x


if __name__ == "__main__":
    arr = oppenfile()
    print(fun(arr))
```

四、简单描述数据序列分散程度的统计量通常由极差、标准差、绝对平均偏差（AAD）、中位数绝对偏差（MAD）、四分位数极差（IQR）等，请编写函数实现这些统计量的计算，并针对iris数据集的四个属性进行计算。  
参考输出结果:  

五、茎叶图是描述数据分布的一种简单可视化方法，请变成实现茎叶图的输出，完成iris数据集中的第一个属性萼片长度的茎叶图输出。  
参考输出结果：  
